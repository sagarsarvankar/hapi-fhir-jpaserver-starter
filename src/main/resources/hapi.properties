# Basic server configuration
#server.name=HAPI FHIR Server
#server.version=5.5.0
#fhir.version=r4

#Enable Security for FHIR Server
server.enablesecurity=true

# If job is cancelled, on setting below to true
# the server will return 404 on the cancelled job
# else, it will return 202. Required by Inferno
server.support_for_404_on_get_of_cancelled_job=true

# Since there is no support of _outputFormat other than
# application/fhir+ndjson, hence setting the below field
# will set to default application/fhir+ndjson if the
# format is any other
server.default_to_application_fhir_ndjson_bulk_export=true

#FHIR Server URL #http://localhost:8007/fhir
server.fhirserverurl=http://localhost:8007

#token_endpoint_auth_signing_alg_values_supported
server.token_endpoint_auth_signing_alg_values_supported = RS384,ES384

server.grant_types_supported=authorization_code,client_credentials

# Enable SMART on FHIR .well-known/smart-configuration endpoint
server.smart_enabled=true

# OAuth 2.0 Authorization server endpoints for SMART on FHIR
# These settings are essential for enabling the SMART configuration endpoint

# Authorization endpoint
server.oauth.authorization_endpoint=https://localhost:5001/oauth/authorize

# Token endpoint
server.oauth.token_endpoint=https://localhost:5001/oauth/token

# Token introspection endpoint (optional, for resource servers)
server.oauth.introspection_endpoint=https://localhost:5001/oauth/introspect
server.oauth.clientid_for_introspection_endpoint=Inferno
server.oauth.clientsecret_for_introspection_endpoint=secret
server.oauth.check_token_revoked_using_introspection=false


# SMART capabilities supported by this server
# You can list any supported capabilities as a comma-separated list.
# Common SMART capabilities include:
# - launch-ehr: Support for launching from within an EHR
# - client-public: Support for public client registrations
# - client-confidential-symmetric: Support for confidential clients
# - sso-openid-connect: Single Sign-On via OpenID Connect
# - permission-offline: Offline access support
# - permission-patient: Patient-level access support
# - permission-user: User-level access support
server.smart_capabilities=launch-ehr,launch-standalone,client-public,client-confidential-asymmetric,client-confidential-symmetric,sso-openid-connect,context-banner,context-style,context-ehr-patient,context-ehr-encounter,context-standalone-patient,context-standalone-encounter,permission-offline,permission-patient,permission-user,permission-v1,permission-v2,authorize-post

# Optional: Scopes supported by the server (optional, but useful to list explicitly)
server.smart_scopes_supported=openid,fhirUser,profile,launch,user/Patient.read,user/Observation.read


#you can add more by using comma below
server.code_challenge_methods_supported=S256

# Optional: Define the token endpoint authentication methods supported
server.smart_token_endpoint_auth_methods_supported=private_key_jwt

# JWKS endpoint (if applicable) for public keys used in token verification
server.oauth.jwks_uri=https://localhost:5001/.well-known/openid-configuration/jwks

# Other optional OpenID configuration values, if supported
server.oauth.userinfo_endpoint=https://localhost:5001/oauth2/userinfo
server.oauth.revocation_endpoint=https://localhost:5001/oauth/revocation

server.issuer=http://localhost:8007/fhir

# Additional FHIR-specific configuration options
# URL where the server is hosted
server.base_url=http://localhost:8007/fhir

# Define the SMART Conformance Provider if required
server.fhir_conformance.provider=ca.uhn.fhir.jpa.starter.SmartConformanceProvider

# The server can generate the .well-known/smart-configuration at the endpoint [base-url]/.well-known/smart-configuration
